# Торги

Пользователи, прошедшие создание аккаунта и его настройку готовы выставить свои товары на продажку или купить уже выставленный товар.

## Основное положение

В отведенное время принимать ставки пользователей и по окончанию торгов выбрать победителя.

## Создание лота

Продавец создает новый лот со следующими данными:

- `title` - заголовок лота который прямо указывает на продаваемый товар
- `description` - описание лота с любым тектом
- `startPrice` - начальная цена лота, которая создается как ставка от этого же пользователя
- `endTradingDate` - через какое время закончатся торги
- `images` - множественная загрузка изображений

## Обновление лота

Когда лот выставлен на продажу, обновлять можно только: `title`, `description`, `images`. Остальные данные заблокированы.

Так же пользователь может удалить лот, который в процессе торгов без каких либо последствий.

## Торги за лот

Когда лот выставлен на продажу, первой ставкой всегда является начальная цена.

Любой аутентифицированый пользователь может сделать свою ставку, которая будет выше последней. При этом новая минимальная ставка - это последняя ставка + 5% от нее, чтобы предотвратить бесконечные ставки на 1 гривну больше.

## Выбор победителя

Когда время торгов лота выходит, новые ставки атоматически отклоняются. При этом ставка еще может быть активной какое-то время.

Когда лот обработан, покупатель или продавец могут написать через чат друг другу, чтобы договорится о доставке и оплате.

## Отсутствует победитель

Если при обработке оказывается, чтобы была сделала только одна начальная ставка, лот закрывается со статусом "Закрыто".

## Статусы лота

В разное время у лота могут быть разные статусы:

- `trading` - в процессе торгов. Начальный статус любого созданного лота.

- `discussion` - в процессе обсуждения. Победитель был найден и сейчас идет процесс общения между ним с продавцом и договоры о доставке и оплате.

- `shipping` - в процессе доставки. Продавец отправил товар.

- `received` - товар получен. Покупатель подтвердил получение товара и лот успешно закрыт.

- `refused` - от товара отказались. Покупатель отказался от товара и лот закрылся.

- `denied` - закрыт из-за отказа продавать товар.

- `closed` - закрыт из-за отсутствия победителя.
